<!DOCTYPE html>
<html>
<head>
    <% include partials/head.ejs %>
</head>
<body ng-app="News" ng-controller="MainCtrl">

    <% include partials/header.ejs %>

    <!-- Begin page content -->
    <div class="container">

        <div class="page-header">
            <h1><%= title %></h1>
            <p>Welcome to <%= title %></p>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div ng-repeat="post in posts | orderBy:'-upvotes'">
                    <span class="glyphicon glyphicon-thumbs-up" ng-click="incrementUpvotes(post)"></span>
                    {{post.upvotes}}
                    <span style="font-size:20px; margin-left:10px;">
                      <a ng-show="post.link" href="{{post.link}}">
                        {{post.title}}
                      </a>
                      <span ng-hide="post.link">
                        {{post.title}}
                      </span>
                    </span>
                </div>
                <form ng-submit="addPost()">
                    <h3>Add a new post</h3>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Title" ng-model="title"></input>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Link" ng-model="link"></input>
                    </div>
                    <button type="submit" class="btn btn-primary"><span class="fa fa-fw fa-plus"></span>Post</button>
                </form>
            </div>
        </div>
    </div>

    <% include partials/footer.ejs %>

</body>
</html>
